{% load static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Blog{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>
<body>
<header>
    <div class="nav-container">
        <h1 class="logo">MyBlog</h1>
        <nav>
            <a href="{% url 'post_list' %}">ğŸ“– Blog Posts</a>
            <a href="{% url 'post_create' %}">âœï¸ Create Post</a>

            <!-- User Authentication Links -->
            {% if user.is_authenticated %}
                <span class="user-welcome">ğŸ‘‹ Welcome, {{ user.username }}!</span>
                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Logout</button>
                </form>

            {% else %}
                <a href="{% url 'login' %}">ğŸ”‘ Login</a> |
                <a href="{% url 'signup' %}">ğŸ“ Register</a>
            {% endif %}
        </nav>

        <!-- Theme Switcher Button -->
        <button id="theme-toggle">ğŸŒ™</button>
    </div>
</header>

<!-- Animated Page Content -->
<div class="content-container">
    {% block content %}
    {% endblock %}
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.getElementById("theme-toggle");
        const body = document.body;

        // Load saved theme preference
        if (localStorage.getItem("theme") === "dark") {
            body.classList.add("dark-mode");
            toggleButton.textContent = "â˜€ï¸";
        }

        toggleButton.addEventListener("click", function () {
            body.classList.toggle("dark-mode");

            if (body.classList.contains("dark-mode")) {
                localStorage.setItem("theme", "dark");
                toggleButton.textContent = "â˜€ï¸";
            } else {
                localStorage.setItem("theme", "light");
                toggleButton.textContent = "ğŸŒ™";
            }
        });
    });
</script>
</body>
</html>
